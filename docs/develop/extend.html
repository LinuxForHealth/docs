

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Extending Linux for Health &mdash; Linux for Health  documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://linuxforhealth.github.io/docs/develop/extend.html"/>
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://assets.readthedocs.org/static/css/readthedocs-doc-embed.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Building Extensions" href="build.html" />
    <link rel="prev" title="Blue Button 2.0 Tutorial" href="../tutorials/blue-button-20.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: 0x4380B4" >
          

          
            <a href="../index.html" class="icon icon-home"> Linux for Health
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer-setup.html">Developer Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../application-configuration.html">Application Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../message-structure.html">Message Structure</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/quickstart.html">Quick Start Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/fhir-r4.html">FHIR R4 Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/blue-button-20.html">Blue Button 2.0 Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Develop:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Extending Linux for Health</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linux-for-health-constructs">Linux for Health Constructs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#routes">Routes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#components">Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exchanges">Exchanges</a></li>
<li class="toctree-l3"><a class="reference internal" href="#processors">Processors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#steps-to-extend">Steps to Extend</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Testing Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="route-basics.html">Developing Routes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Linux for Health</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Extending Linux for Health</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/develop/extend.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="extending-linux-for-health">
<h1>Extending Linux for Health<a class="headerlink" href="#extending-linux-for-health" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This discussion should provide you with enough information to easily extend Linux for Health (LFH) to incorporate routes and components that can perfom new processing functions and connect to new services.  For example, you may want to extend LFH to provide a route that users can call to access a new service.  Or you may need to provide a route and a Apache Camel component to access your service.  You could also provide a new route to take data from one source, transform it if necessary, then send it to another service or data store.  The topics below will help you with these design decisions and provide implementation details.</p>
</div>
<div class="section" id="linux-for-health-constructs">
<h2>Linux for Health Constructs<a class="headerlink" href="#linux-for-health-constructs" title="Permalink to this headline">¶</a></h2>
<p>Linux for Health uses the following constructs to process healthcare information.</p>
<div class="section" id="routes">
<h3>Routes<a class="headerlink" href="#routes" title="Permalink to this headline">¶</a></h3>
<p>A Linux for Health route is designed to ingest healthcare data, perform any required operations on that data (e.g. de-serialize, transform, enrich), then do something with that data (e.g. store, notify, forward).  Routes may be defined using standard protocols, such as REST or HTTP, and may use a <a class="reference external" href="https://camel.apache.org/components/latest/dataformats/index.html">known data format</a> such as HL7v2 or FHIR R4.  If you are adding access to a service, you will likely need to add a new route to LFH.</p>
</div>
<div class="section" id="components">
<h3>Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h3>
<p>If access to your service requires the use of a library (e.g. a custom protocol), you may need to also create a Camel component to access the service.  That component would be called from your route and would handle the connection to your service.  Camel contains hundreds of <a class="reference external" href="https://camel.apache.org/components/latest/index.html">components</a> that can serve as <a class="reference external" href="https://github.com/apache/camel/tree/master/components">examples</a>.  However, if a service is accessible via HTTP or REST, you probably don’t need to create a new component.</p>
<p>If you do need to create a new Camel component, or modify an existing component, consider contributing your changes back to the <a class="reference external" href="https://camel.apache.org/components/latest/dataformats/index.html">Apache Camel project</a> for others to use.</p>
</div>
<div class="section" id="exchanges">
<h3>Exchanges<a class="headerlink" href="#exchanges" title="Permalink to this headline">¶</a></h3>
<p>A Camel <a class="reference external" href="https://www.javadoc.io/doc/org.apache.camel/camel-core/2.21.0/org/apache/camel/Exchange.html">Exchange</a> is a construct that encapsulates the processing of a single incoming message.  The Exchange instance includes all the input data and headers, as well as exchange properties, for that message.  Exchange properties are recommended for storing data needed by downstream steps in a route.</p>
</div>
<div class="section" id="processors">
<h3>Processors<a class="headerlink" href="#processors" title="Permalink to this headline">¶</a></h3>
<p>A Linux for Health processor encapsulates code for route message processing and takes the message Exchange instance as input.  Within a processor, you can set headers, properties and the message body itself, all of which flow to the next step in the message processing of the route.  When creating your own route, create a processor instead of performing multiple operations inline in a route.  LFH contains many processors that you can use as examples for your new processor in the connect/java/com/linuxforhealth/connect/processor directory of the Linux for Health connect repo.</p>
</div>
</div>
<div class="section" id="steps-to-extend">
<h2>Steps to Extend<a class="headerlink" href="#steps-to-extend" title="Permalink to this headline">¶</a></h2>
<p>Follow the steps below to extend Linux for Health:</p>
<ol class="arabic simple">
<li><p>Clone and build the Linux for Health repo. See the <a class="reference external" href="../developer-setup.html">Developer Setup</a> Getting Started step for instructions.</p></li>
<li><p>Determine if you need a route and component or just a route, based on the discussion above.</p></li>
<li><p>Create a new component, if needed, by cloning and modifying a Camel component that most closely matches your requirements.  You can find simple Camel components that include only 4 required files as a starting point.</p></li>
<li><p>Create a new route by cloning and modifying the LFH route that most closely matches your requirements, following the <a class="reference external" href="./route-basics.html">Route Development</a> guidance.  Be sure to include the steps that are required for LFH routes.</p></li>
<li><p>Create new processors to encapsulate the route message processing steps by cloning and modifying the LFH processor that most closely matches your requirements.</p></li>
<li><p>Add any new dependencies to the LFH build.gradle file, following the guidance in <a class="reference external" href="./build.html">Building Extensions</a>.</p></li>
<li><p>Create unit tests and add test services, following the guidance in <a class="reference external" href="./test.html">Testing Extensions</a>.</p></li>
<li><p>Build, test, then open a feature issue and a pull request against that feature to contribute your changes to <a class="reference external" href="https://github.com/LinuxForHealth/connect">Linux for Health</a>!</p></li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="build.html" class="btn btn-neutral float-right" title="Building Extensions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../tutorials/blue-button-20.html" class="btn btn-neutral float-left" title="Blue Button 2.0 Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, IBM

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>