

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Feature Configuration &mdash; Linux for Health  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  

  
  
    <link rel="canonical" href="https://linuxforhealth.github.io/docs/feature-configuration.html"/>
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Message Structure" href="message-structure.html" />
    <link rel="prev" title="Application Configuration" href="application-configuration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: 0x4380B4" >
          

          
            <a href="index.html" class="icon icon-home"> Linux for Health
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="developer-setup.html">Developer Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/firstroute.html">Hello World</a></li>
<li class="toctree-l1"><a class="reference internal" href="application-configuration.html">Application Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Feature Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nats-subscribers">NATS Subscribers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#external-fhir-server">External FHIR Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="message-structure.html">Message Structure</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/fhir-r4.html">FHIR R4</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/hl7-v2.html">HL7-v2</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/blue-button-20.html">Blue Button 2.0</a></li>
</ul>
<p class="caption"><span class="caption-text">Routes:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="routes/fhir-r4-rest.html">FHIR R4</a></li>
<li class="toctree-l1"><a class="reference internal" href="routes/etl.html">ETL</a></li>
<li class="toctree-l1"><a class="reference internal" href="routes/orthanc-post.html">Orthanc DICOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="routes/direct-storeandnotify.html">Direct Store and Notify</a></li>
<li class="toctree-l1"><a class="reference internal" href="routes/fhir-to-text.html">FHIR TO TEXT</a></li>
<li class="toctree-l1"><a class="reference internal" href="routes/nlp.html">NLP</a></li>
</ul>
<p class="caption"><span class="caption-text">Develop:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="develop/extend.html">Developing for LinuxForHealth</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop/build.html">Building Your Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop/test.html">Testing Your Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop/property-encryption.html">Property Encryption</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop/route-basics.html">Developing Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop/configure-kong.html">Configuring Kong</a></li>
</ul>
<p class="caption"><span class="caption-text">Deployment:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="deployment/container.html">Container Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment/compose.html">Docker Compose Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment/openshift.html">OpenShift Container Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment/oci.html">Open Container Initiative (OCI)</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Linux for Health</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Feature Configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/feature-configuration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="feature-configuration">
<h1>Feature Configuration<a class="headerlink" href="#feature-configuration" title="Permalink to this headline">¶</a></h1>
<p>As described in <a class="reference external" href="./application-configuration.html">Application Configuration</a>, LinuxForHealth is configured via application properties and environment variables, where environment variables can override application properties.</p>
<p>Use the following guidance to configure each of the LinuxForHealth features below.  When running LinuxForHealth Connect via Gradle, configure a property in connect/src/main/resources/application.properties.  When running LinuxForHealth Connect in a container, add an environment variable to the container to override the default value of property defined in application.properties.</p>
<div class="section" id="nats-subscribers">
<h2>NATS Subscribers<a class="headerlink" href="#nats-subscribers" title="Permalink to this headline">¶</a></h2>
<p>A LinuxForHealth instance can listen for events from another LinuxForHealth instance by configuring a NATS subscriber. A NATS subscriber will listen for events from the configured LinuxForHealth instance, then place them in the Kafka lfh-remote-events topic.</p>
<p>A LinuxForHealth Kafka consumer will then take each event as it is received in lfh-remote-events and store it in the correct topic for the message type. This creates an exact copy of the data stored in the LinuxForHealth instance that sent the original NATS message and is used to form a synchronized longitudinal patient record.</p>
<p>NATS subscribers can also be configured in external applications to perform a workflow upon receiving a NATS message, but that custom configuration is out of scope for this document.</p>
<p>To configure a NATS subscriber, configure the lfh.connect.fhir-r4.externalservers property with a comma-delimited list of host:port.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 47%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Property</p></td>
<td><p>lfh.connect.messaging.subscribe.hosts</p></td>
<td><p>localhost:4222</p></td>
</tr>
<tr class="row-odd"><td><p>Environment Variable</p></td>
<td><p>LFH_CONNECT_MESSAGING_SUBSCRIBE_HOSTS</p></td>
<td><p>nats-server:4222</p></td>
</tr>
</tbody>
</table>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>Property:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lfh</span><span class="o">.</span><span class="n">connect</span><span class="o">.</span><span class="n">messaging</span><span class="o">.</span><span class="n">subscribe</span><span class="o">.</span><span class="n">hosts</span><span class="o">=</span><span class="n">localhost</span><span class="p">:</span><span class="mi">4222</span><span class="p">,</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="p">:</span><span class="mi">4222</span>
</pre></div>
</div>
<p>Environment Variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LFH_CONNECT_MESSAGING_SUBSCRIBE_HOSTS</span><span class="o">=</span><span class="n">nats</span><span class="o">-</span><span class="n">server</span><span class="p">:</span><span class="mi">4222</span><span class="p">,</span><span class="mf">5.6</span><span class="o">.</span><span class="mf">7.8</span><span class="p">:</span><span class="mi">4222</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="external-fhir-server">
<h2>External FHIR Server<a class="headerlink" href="#external-fhir-server" title="Permalink to this headline">¶</a></h2>
<p>The LinuxForHealth FHIR R4 route can optionally send FHIR resources to an external FHIR server. To configure an external FHIR server, configure the lfh.connect.fhir-r4.externalserver property with the FHIR endpoint URI.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 47%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Property</p></td>
<td><p>lfh.connect.fhir-r4.externalserver</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>Environment Variable</p></td>
<td><p>LFH_CONNECT_FHIR-R4_EXTERNALSERVER</p></td>
<td><p>None</p></td>
</tr>
</tbody>
</table>
<div class="section" id="id1">
<h3>Examples<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Property:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lfh</span><span class="o">.</span><span class="n">connect</span><span class="o">.</span><span class="n">fhir</span><span class="o">-</span><span class="n">r4</span><span class="o">.</span><span class="n">externalserver</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">ID</span><span class="p">:</span><span class="n">PASSWORD</span><span class="nd">@localhost</span><span class="p">:</span><span class="mi">9443</span><span class="o">/</span><span class="n">fhir</span><span class="o">-</span><span class="n">server</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">v4</span>
</pre></div>
</div>
<p>Environment Variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LFH_CONNECT_FHIR</span><span class="o">-</span><span class="n">R4_EXTERNALSERVER</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">ID</span><span class="p">:</span><span class="n">PASSWORD</span><span class="nd">@localhost</span><span class="p">:</span><span class="mi">9443</span><span class="o">/</span><span class="n">fhir</span><span class="o">-</span><span class="n">server</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">v4</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="message-structure.html" class="btn btn-neutral float-right" title="Message Structure" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="application-configuration.html" class="btn btn-neutral float-left" title="Application Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright .

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
 
<div class="footer">
    <p>
        LinuxForHealth is sublicensed by the Linux Foundation with Sublicense ID: 20200615-0008
    </p>
</div>    


</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>