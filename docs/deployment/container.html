

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Container Support &mdash; Linux for Health  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  
    <link rel="canonical" href="https://linuxforhealth.github.io/docs/deployment/container.html"/>
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Docker Compose Support" href="compose.html" />
    <link rel="prev" title="Configuring Kong" href="../develop/configure-kong.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: 0x4380B4" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Linux for Health
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer-setup.html">Developer Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/firstroute.html">Hello World</a></li>
<li class="toctree-l1"><a class="reference internal" href="../application-configuration.html">Application Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feature-configuration.html">Feature Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../message-structure.html">Message Structure</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/fhir-r4.html">FHIR R4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/hl7-v2.html">HL7-v2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/blue-button-20.html">Blue Button 2.0</a></li>
</ul>
<p class="caption"><span class="caption-text">Routes:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../routes/fhir-r4-rest.html">FHIR R4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routes/orthanc-post.html">Orthanc DICOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routes/direct-storeandnotify.html">Direct Store and Notify</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routes/fhir-to-text.html">FHIR TO TEXT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routes/nlp.html">NLP</a></li>
</ul>
<p class="caption"><span class="caption-text">Develop:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop/extend.html">Developing for LinuxForHealth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/build.html">Building Your Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/test.html">Testing Your Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/property-encryption.html">Property Encryption</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/route-basics.html">Developing Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/configure-kong.html">Configuring Kong</a></li>
</ul>
<p class="caption"><span class="caption-text">Deployment:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Container Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lfh-base-image">LFH Base Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-images">Building Images</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="compose.html">Docker Compose Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="openshift.html">OpenShift Container Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="oci.html">Open Container Initiative (OCI)</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Linux for Health</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Container Support</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/deployment/container.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="container-support">
<h1>Container Support<a class="headerlink" href="#container-support" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Images for LinuxForHealth applications and services are available under the <a class="reference external" href="https://hub.docker.com/u/linuxforhealth">LinuxForHealth Organization on Docker Hub</a> . Supported platforms include:</p>
<ul class="simple">
<li><p>x86/amd64</p></li>
<li><p>arm64</p></li>
<li><p>s390x/Z</p></li>
</ul>
<p>Red Hat Universal Base Images (UBI) are utilized when possible. UBI images provide an optimizied runtime with an emphasis on security and operational stability. Within the UBI family of images, the minimal variant is preferred, followed by the init and standard variants.</p>
<p>LFH images run within any standard container runtime and orchestration environment. Additionally, all LFH images are supported on Red Hat’s Open Shift Container Platform (OCP) and adhere to OCP best practices.</p>
<p>LFH provides management scripts to support the following runtimes:</p>
<ul class="simple">
<li><p>OCI (podman or docker)</p></li>
<li><p>Docker Compose</p></li>
<li><p>OpenShift Container Platform</p></li>
<li><p>Code Ready Containers (provides a local environment for OCP development)</p></li>
</ul>
</div>
<div class="section" id="lfh-base-image">
<h2>LFH Base Image<a class="headerlink" href="#lfh-base-image" title="Permalink to this headline">¶</a></h2>
<p>The LFH base image is used as the base image for all LFH images when possible. The LFH base image in turn is based off of the Red Hat minimal UBI image. The LFH base image provides the following:</p>
<ul class="simple">
<li><p>a standard non-privileged application user, lfh</p></li>
<li><p>a root directory, /opt/lfh, for applications and services</p></li>
<li><p>updated permissions which allow the “root group” (not root user) access to /opt/lfh</p></li>
</ul>
</div>
<div class="section" id="building-images">
<h2>Building Images<a class="headerlink" href="#building-images" title="Permalink to this headline">¶</a></h2>
<p>LFH images are built to support multiple architectures, including x86/amd, arm64, and s390x/Z. Multi-arch builds are supported in OCI compliant tools such as docker and podman. The following docker command illustrates a multi-arch build for the LFH connect project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">buildx</span> <span class="n">build</span> \
    <span class="o">--</span><span class="n">pull</span> \
    <span class="o">--</span><span class="n">push</span> \
    <span class="o">--</span><span class="n">platform</span> <span class="n">linux</span><span class="o">/</span><span class="n">amd64</span><span class="p">,</span><span class="n">linux</span><span class="o">/</span><span class="n">arm64</span><span class="p">,</span><span class="n">linux</span><span class="o">/</span><span class="n">s390x</span> \
    <span class="o">-</span><span class="n">t</span> <span class="p">[</span><span class="n">image</span> <span class="n">repository</span><span class="p">]</span><span class="o">/</span><span class="n">connect</span><span class="p">:</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">0</span> <span class="o">.</span>
</pre></div>
</div>
<p>The image tag, specified by “-t”, may be updated to push the image to a different repository.</p>
<p>If a multi-arch build is not required, a standard “build” command may be used. The following command builds the LFH connect image for the target platform:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">build</span> <span class="o">-</span><span class="n">t</span> <span class="p">[</span><span class="n">image</span> <span class="n">repository</span><span class="p">]</span><span class="o">/</span><span class="n">connect</span><span class="p">:</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">0</span> <span class="o">.</span>
</pre></div>
</div>
<p>For more information on available images and specific build commands please visit the <a class="reference external" href="https://github.com/LinuxForHealth/images">LFH Images Repo</a> .</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="compose.html" class="btn btn-neutral float-right" title="Docker Compose Support" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../develop/configure-kong.html" class="btn btn-neutral float-left" title="Configuring Kong" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, IBM

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
 
<div class="footer">
    <p>
        LinuxForHealth is sublicensed by the Linux Foundation with Sublicense ID: 20200615-0008
    </p>
</div>    


</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>