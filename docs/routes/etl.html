

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ETL &mdash; Linux for Health  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  

  
  
    <link rel="canonical" href="https://linuxforhealth.github.io/docs/routes/etl.html"/>
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Orthanc DICOM" href="orthanc-post.html" />
    <link rel="prev" title="FHIR R4" href="fhir-r4-rest.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: 0x4380B4" >
          

          
            <a href="../index.html" class="icon icon-home"> Linux for Health
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer-setup.html">Developer Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/firstroute.html">Hello World</a></li>
<li class="toctree-l1"><a class="reference internal" href="../application-configuration.html">Application Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feature-configuration.html">Feature Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../message-structure.html">Message Structure</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/fhir-r4.html">FHIR R4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/hl7-v2.html">HL7-v2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/blue-button-20.html">Blue Button 2.0</a></li>
</ul>
<p class="caption"><span class="caption-text">Routes:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="fhir-r4-rest.html">FHIR R4</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ETL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="#details">Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#required-headers">Required Headers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-properties">Configuration Properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#calling-the-route">Calling the Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="#results">Results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orthanc-post.html">Orthanc DICOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="direct-storeandnotify.html">Direct Store and Notify</a></li>
<li class="toctree-l1"><a class="reference internal" href="fhir-to-text.html">FHIR TO TEXT</a></li>
<li class="toctree-l1"><a class="reference internal" href="nlp.html">NLP</a></li>
</ul>
<p class="caption"><span class="caption-text">Develop:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop/extend.html">Developing for LinuxForHealth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/build.html">Building Your Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/test.html">Testing Your Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/property-encryption.html">Property Encryption</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/route-basics.html">Developing Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/configure-kong.html">Configuring Kong</a></li>
</ul>
<p class="caption"><span class="caption-text">Deployment:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../deployment/container.html">Container Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment/compose.html">Docker Compose Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment/openshift.html">OpenShift Container Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment/oci.html">Open Container Initiative (OCI)</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Linux for Health</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>ETL</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/routes/etl.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="etl">
<h1>ETL<a class="headerlink" href="#etl" title="Permalink to this headline">¶</a></h1>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>The LinuxForHealth (LFH) ETL route supports custom text based data formats such as CSV and fixed length. Inbound data is parsed, validated, and transformed prior to transmitting to an external system.
Inbound data messages are parsed and validated using <a class="reference external" href="https://www.hl7.org/fhir/http.html#create">Bindy</a>. Data transformations are implemented using Camel’s <a class="reference external" href="https://camel.apache.org/components/latest/bean-component.html">Bean Producer</a>.
The custom inbound and transform components reside within the ‘com.linuxforhealth.connect.support.etl’ package</p>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Route Name</p></td>
<td><p>etl</p></td>
</tr>
<tr class="row-odd"><td><p>URL Property</p></td>
<td><p>lfh.connect.etl.uri</p></td>
</tr>
<tr class="row-even"><td><p>Route URL</p></td>
<td><p><a class="reference external" href="https:/">https:/</a>/{host}:8443/etl</p></td>
</tr>
<tr class="row-odd"><td><p>Example URL</p></td>
<td><p><a class="reference external" href="https://127.0.0.1:8443/etl">https://127.0.0.1:8443/etl</a></p></td>
</tr>
<tr class="row-even"><td><p>Protocol</p></td>
<td><p>REST</p></td>
</tr>
<tr class="row-odd"><td><p>Supported Operation(s)</p></td>
<td><p>POST</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="required-headers">
<h3>Required Headers<a class="headerlink" href="#required-headers" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Header</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ETLMessageType</p></td>
<td><p>specifies the type anf format of data being processed. Example practitioner_csv</p></td>
</tr>
<tr class="row-odd"><td><p>Content-Type</p></td>
<td><p>text/csv or text/plain</p></td>
</tr>
<tr class="row-even"><td><p>Content-Length</p></td>
<td><p>size of JSON in bytes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="configuration-properties">
<h3>Configuration Properties<a class="headerlink" href="#configuration-properties" title="Permalink to this headline">¶</a></h3>
<p>The following properties are used in conjunction with the core properties (uri, dataformat, messagetype) to configure the ETL route.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Property</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="2"><p>lfh.connect.bean.[messagetype]format</p></td>
<td><p>specifies the fully qualifed classname for the bean used to parse and validate inbound data. Example: com.linuxforhealth.connect.support.etl.PractitionerCsvFormat</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>lfh.connect.bean.[messagetype]transform</p></td>
<td><p>specifies the fully qualifed classname for the bean used to transform inbound data. Example: com.linuxforhealth.connect.support.etl.PractitionerCsvTransform</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>lfh.connect.etl.producerUri</p></td>
<td><p>the target system’s uri/url</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="calling-the-route">
<h2>Calling the Route<a class="headerlink" href="#calling-the-route" title="Permalink to this headline">¶</a></h2>
<p>Using REST (e.g. via curl or Postman), send a file resource to the route URL as the body of a POST message.  See the LinuxForHealth Examples postman collection in your connect repo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connect</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">resources</span><span class="o">/</span><span class="n">messages</span><span class="o">/</span><span class="n">postman</span><span class="o">/</span><span class="n">LinuxForHealth</span> <span class="n">Examples</span><span class="o">.</span><span class="n">postman_collection</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>for an example of calling this route with a sample CSV file.</p>
</div>
<div class="section" id="results">
<h2>Results<a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h2>
<p>Results are stored in Kafka, viewable via the <a class="reference external" href="http://localhost:9000/">Kafdrop viewer</a> at the topic, partition and offset shown in the LinuxForHealth JSON message you receive upon submitting the file resource.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="orthanc-post.html" class="btn btn-neutral float-right" title="Orthanc DICOM" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="fhir-r4-rest.html" class="btn btn-neutral float-left" title="FHIR R4" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright .

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
 
<div class="footer">
    <p>
        LinuxForHealth is sublicensed by the Linux Foundation with Sublicense ID: 20200615-0008
    </p>
</div>    


</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>